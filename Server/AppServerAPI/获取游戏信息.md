#

![SUD](../../Resource/logo.png)

## 简要描述

- 接入服务端根据app_id，app_secret，mg_id 获取小游戏信息

## 请求URL

- 测试环境：https://sim-mg-sdk.sudden.ltd/v1/app/server/mg_info
- 生产环境：TODO

## 请求方式
- https
- POST
- 参数为Json格式，放在body内

## 请求参数

|参数名|必选|类型|说明|
|:----|:---|:-----|-----|
|app_id |是  |string |app_id   |
|app_secret |是  |string |app_secret   |
|mg_id |是  |long |游戏ID   |


## 请求示例

```json
{
    "app_id":"1461298604781080632",
    "app_secret":"fyRTOsubRLCGrRvKoKm7wIcMM1DL7cfb",
    "mg_id":1461227817776713818
}
```

## 返回参数

- BaseResp

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|ret_code |是  |int |响应码   |
|ret_msg |是  |string | 响应信息    |
|data     |是  | AppServerGetMgInfoResp | 响应数据    |
|app_id     |是  |string | app_id   |

- AppServerGetMgInfoResp

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|mg_info |是  | MgInfo|游戏信息（见MgInfo定义）   |


- MgInfo

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|mg_id |是  |int | 小游戏id |
|orientation |是  |int | 0:横屏 1:竖屏  |
|screen_mode |是  |int | 0:全屏模式 1:带有状态栏模式  |
|version |是  |string | 小游戏版本  |
|url |是  |string | 小游戏包下载地址  |
|game_app_id |是  |string | 小游戏app_id  |
|hash |是  |string | 小游戏cpk hash值  |
|require |是  |list |   |
|eurl |是  |string | 包地址  |
|engine |是  |int | 游戏引擎类型  |
|name |是  |json | 小游戏名字  |
|desc |是  |json | 小游戏描述  |
|big_loading_pic |是  |json | loading全屏背景图片地址  |
|loading_pic |是  |json | loading图片地址  |
|thumbnail332x332 |是  |json | 图像地址，尺寸: 332*332|
|thumbnail192x192 |是  |json | 图像地址，尺寸: 192*192|
|thumbnail128x128 |是  |json | 图像地址，尺寸: 128*128|
|thumbnail80x80 |是  |json | 图像地址，尺寸: 80*80|
|client_version |是  |int | 客户端版本 |
|game_mode_list |是  |list | 游戏模式列表，元素类型：GameMode |

- GameMode

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|mode |是  |int | 模式编号 |
|count |是  |list | count[0]: 最小人数，count[1]: 最大人数 |

## 返回示例

```json
{
    "ret_code": 0,
    "ret_msg": "",
    "data": {
        "mg_info": {
            "mg_id": 1461227817776713818,
            "orientation": 1,
            "screen_mode": 1,
            "version": "0.0.0.7",
            "url": "",
            "game_app_id": "tech.sud.mgp.crashcar",
            "hash": "",
            "require": "",
            "eurl": "https://sim-sud-static.sudden.ltd/game/bumper/bumper3.0.0.rpk",
            "engine": 1,
            "name": {
                "default": "碰碰车",
                "zh-HK": "碰碰车",
                "zh-CN": "碰碰车"
            },
            "desc": {
                "default": "碰碰我最强",
                "zh-HK": "碰碰我最强",
                "zh-CN": "碰碰我最强"
            },
            "big_loading_pic": {
                "default": "https://sim-sud-static.sudden.ltd/game/bumper/bg.jpg",
                "zh-HK": "https://sim-sud-static.sudden.ltd/game/bumper/bg.jpg",
                "zh-TW": "https://sim-sud-static.sudden.ltd/game/bumper/bg.jpg",
                "zh-MO": "https://sim-sud-static.sudden.ltd/game/bumper/bg.jpg",
                "zh-CN": "https://sim-sud-static.sudden.ltd/game/bumper/bg.jpg"
            },
            "loading_pic": {
                "default": "loading_pic",
                "zh-HK": "loading_pic",
                "zh-CN": "loading_pic"
            },
            "thumbnail332x332": {
                "default": "https://sim-sud-static.sudden.ltd/game/bumper/332.png",
                "zh-HK": "https://sim-sud-static.sudden.ltd/game/bumper/332.png",
                "zh-CN": "https://sim-sud-static.sudden.ltd/game/bumper/332.png"
            },
            "thumbnail192x192": {
                "default": "https://sim-sud-static.sudden.ltd/game/bumper/192.png",
                "zh-HK": "https://sim-sud-static.sudden.ltd/game/bumper/192.png",
                "zh-CN": "https://sim-sud-static.sudden.ltd/game/bumper/192.png"
            },
            "thumbnail128x128": {
                "default": "https://sim-sud-static.sudden.ltd/game/bumper/128.png",
                "zh-HK": "https://sim-sud-static.sudden.ltd/game/bumper/128.png",
                "zh-CN": "https://sim-sud-static.sudden.ltd/game/bumper/128.png"
            },
            "thumbnail80x80": {
                "default": "https://sim-sud-static.sudden.ltd/game/bumper/80.png",
                "zh-HK": "https://sim-sud-static.sudden.ltd/game/bumper/80.png",
                "zh-CN": "https://sim-sud-static.sudden.ltd/game/bumper/80.png"
            },
            "client_version": 8,
            "game_mode_list": [
                {
                    "mode": 1,
                    "count": [
                        1,
                        6
                    ]
                }
            ]
        }
    }
}
```
