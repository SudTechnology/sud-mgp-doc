#

![SUD](../../Resource/logo.png)

[Toc]

## 通用状态-玩家

> Tips
>
> 1. SudMGP保证状态有序串行从MG到达APP；
> 2. 可重复通知，无需保证通知次数；
> 3. 通知后SudMGP保证状态有序串行从MG到达APP；会按UID和state值缓存最新一次的data值，供APP随时主动获取；
> 4. MG会通知房间内每个用户（包括所有玩家和所有OB）的状态，APP可按需处理展现。

### 测试状态

- state

```txt
mg_common_player_hello_fsm
```

- data

```json
{
    "msg": "Hello FSM from MG player!"
}
```

- 说明

```txt
用于状态测试。
```

### 加入状态

- state

```txt
mg_common_player_in
```

- data

```json
{
    "isIn": true, // true 已加入，false 未加入
    "msg": "未加入", // 建议展示文字
    "backgroundColor": "#FFFFFF", // 建议背景颜色
    "foregroundColor": "#00FFFF" // 建议前景颜色（文字颜色）
}
```

- 说明

```txt
用户是否加入游戏，游戏开始后，未加入的用户为OB视角。
```

### 准备状态

- state

```txt
mg_common_player_ready
```

- data

```json
{
    "isReady": true, // true 已准备，false 未准备
    "msg": "未准备", // 建议展示文字
    "backgroundColor": "#FFFFFF", // 建议背景颜色
    "foregroundColor": "#00FFFF" // 建议前景颜色（文字颜色）
}
```

- 说明

```txt
用户是否准备。
```

### 队长状态

- state

```txt
mg_common_player_captain
```

- data

```json
{
    "isCaptain": true, // true 是队长，false 不是队长
    "msg": "队长", // 建议展示文字
    "backgroundColor": "#FFFFFF", // 建议背景颜色
    "foregroundColor": "#00FFFF" // 建议前景颜色（文字颜色）
}
```

- 说明

```txt
用户是否为队长，队长在游戏中会有开始游戏的权利。
```

### 游戏状态

- state

```txt
mg_common_player_playing
```

- data

```json
{
    "isPlaying": true, // true 游戏中，false 未在游戏中
    "msg": "游戏中", // 建议展示文字
    "backgroundColor": "#FFFFFF", // 建议背景颜色
    "foregroundColor": "#00FFFF", // 建议前景颜色（文字颜色）
    "spaceMax": true // true 建议尽量收缩原生UI，给游戏留出尽量大的操作空间 false 初始状态
}
```

- 说明

```txt
用户游戏状态，如果用户在游戏中，建议：
a.空出屏幕中心区：
关闭全屏礼物特效；
b.部分强操作类小游戏（spaceMax为true），尽量收缩原生UI，给游戏留出尽量大的操作空间：
收缩公屏；
收缩麦位；
如果不在游戏中，则恢复。
```
