#

![SUD](../../Resource/logo.png)

[Toc]

## 通用状态

> Tips
>
> 1. SDK保证状态有序串行从APP到达MG；
> 2. 可重复通知，无需保证通知次数；
> 3. 通知后SDK会按state值缓存最新一次的data值，供MG随时主动获取；
> 4. APP仅需通知用户自己的状态，MG服务会负责广播并同步到各对端。

### 测试状态

- state

```txt
app_common_hello_fsm
```

- data

```json
{
 "msg": "Hello FSM from APP!"
}
```

- 说明

```txt
用于状态测试
```

### 房间状态

- state

```txt
app_common_self_room
```

- data

```json
{
 "isIn": true // true 在房间内，false 不在房间内
}
```

- 说明

```txt
用户（本人）房间状态，建议：
用户进出房间各通知一次
```

- 说明

```txt
用户（本人）离开
```

### 麦位状态

- state

```txt
app_common_self_seat
```

- data

```json
{
 "lastSeat": -1, // 之前在几号麦，从0开始，之前未在麦上值为-1
 "currentSeat": 0 // 目前在几号麦，从0开始，目前未在麦上值为-1
}
```

- 说明

```txt
用户（本人）所处的麦位状态，建议：
进入房间后初始通知一次；
每次变更（上麦/下麦/移麦）通知一次；
```

### 麦克风状态

- state

```txt
app_common_self_microphone
```

- data

```json
{
 "isOn": true, // true 开麦，false 闭麦
 "isDisabled": false // true 被禁麦，false 未被禁麦
}
```

- 说明

```txt
用户（本人）麦克风状态，建议：
进入房间后初始通知一次；
每次变更（开麦/闭麦/禁麦/解麦）通知一次；
```

### 文字命中状态

- state

```txt
app_common_self_text_hit
```

- data

```json
{
 "isHit": true, // true 命中，false 未命中
 "keyWord": "关键", // 关键词
 "text": "这是关键" // 聊天原始内容
}
```

- 说明

```txt
用户（本人）聊天信息命中关键词状态，建议：
精确匹配；
首次聊天内容命中关键词之后，后续聊天内容不翻转成未命中；
直至小游戏侧关键词更新，再将状态翻转为未命中；
```
